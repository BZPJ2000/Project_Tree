# Python项目依赖分析工具 🐍🔍

Python项目依赖分析工具，帮助了解项目中各个模块之间的依赖情况，通过直观的可视化图形展示依赖关系，支持文本或JSON格式输出详细的依赖信息，并能够打印项目目录结构，极大地提高了项目的可维护性和理解性.

## 功能特性 🚀

### 1. 模块收集 🗂️
- 自动遍历指定项目根目录，递归收集所有Python模块。
- 排除`__pycache__`目录，准确获取每个模块的路径和模块名。

### 2. 依赖解析 🧩
- 利用抽象语法树（AST）解析每个模块的导入语句，精准识别绝对导入和相对导入。
- 将相对导入转换为绝对模块名，准确确定模块间的依赖关系。

### 3. 依赖图构建 📊
- 基于收集的模块和解析的依赖关系，使用`networkx`库构建有向图（DiGraph），清晰表示模块间的依赖流向。

### 4. 可视化展示 📈
- 运用`matplotlib`库进行高级可视化。
- 图形生成符合科研论文级别的依赖关系图，采用精心设计的布局算法和配色方案。
- 图中节点根据深度不同采用不同颜色区分，节点大小反映其重要指标（如度和介数中心性）。
- 提供颜色条和图例说明，使依赖关系一目了然。

### 5. 多种输出格式 💾
- 支持以文本和JSON格式输出模块信息、依赖关系和依赖图的详细数据，方便进一步处理和分析。

### 6. 目录结构打印 📂
- 能够打印项目的目录结构，突出显示所有相关的Python文件，帮助用户快速了解项目的文件组织形式。

## 安装指南 🛠️

本工具无需额外安装，只需确保系统中已安装Python 3.x，并具备以下依赖库：

- `networkx`：用于图数据结构和算法处理，构建和操作依赖关系图。
- `matplotlib`：用于数据可视化，生成依赖关系的可视化图形。
- `ast`：Python标准库中的抽象语法树模块，用于解析Python代码的语法结构。

### 安装依赖库 📦

您可以使用以下命令安装所需的依赖库：

```bash
pip install networkx matplotlib
```

## 使用方法🎯
通过命令行运行本工具，支持以下参数：

```bash
python analyze_project.py <project_path> [-o <output>] [--print-structure] [--output-format <format>]
```

## 参数说明⚙️

- <project_path>：必需参数，指定Python项目的根目录路径。
- -o <output>：可选参数，指定输出可视化图片的路径，默认值为dependency_graph.png。
- --print-structure：可选参数，若指定该参数，则会打印项目的目录结构。
- --output-format <format>：可选参数，指定输出数据的格式，可选值为text或json，默认值为text。





















